{
  "swaggerDoc": {
    "openapi": "3.0.0",
    "info": {
      "title": "Restaurant API",
      "version": "1.0.0",
      "description": "Restaurant API",
      "contact": {
        "name": "Henry Rivardo",
        "email": "henryrivardo@outlook.com"
      }
    },
    "servers": [
      {
        "url": "https://be-restaurant-api-889893107835.asia-southeast2.run.app/"
      }
    ],
    "components": {
      "securitySchemes": {
        "bearerAuth": {
          "type": "http",
          "scheme": "bearer",
          "bearerFormat": "JWT"
        }
      },
      "schemas": {
        "User": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer"
            },
            "name": {
              "type": "string"
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "phone": {
              "type": "string"
            },
            "avatar": {
              "type": "string"
            },
            "latitude": {
              "type": "number"
            },
            "longitude": {
              "type": "number"
            },
            "createdAt": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "Restaurant": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer"
            },
            "name": {
              "type": "string"
            },
            "star": {
              "type": "number",
              "format": "float"
            },
            "place": {
              "type": "string"
            },
            "lat": {
              "type": "number",
              "format": "float"
            },
            "long": {
              "type": "number",
              "format": "float"
            },
            "logo": {
              "type": "string"
            },
            "images": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "Menu": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer"
            },
            "food_name": {
              "type": "string"
            },
            "price": {
              "type": "integer"
            },
            "type": {
              "type": "string",
              "enum": [
                "food",
                "drink"
              ]
            },
            "resto_id": {
              "type": "integer"
            }
          }
        },
        "CartItem": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer"
            },
            "user_id": {
              "type": "integer"
            },
            "resto_id": {
              "type": "integer"
            },
            "menu_id": {
              "type": "integer"
            },
            "quantity": {
              "type": "integer",
              "default": 1
            }
          }
        },
        "Transaction": {
          "type": "object",
          "properties": {
            "transaction_id": {
              "type": "string"
            },
            "user_id": {
              "type": "integer"
            },
            "payment_method": {
              "type": "string"
            },
            "price": {
              "type": "integer"
            },
            "service_fee": {
              "type": "integer"
            },
            "delivery_fee": {
              "type": "integer"
            },
            "total_price": {
              "type": "integer"
            },
            "status": {
              "type": "string",
              "enum": [
                "preparing",
                "on_the_way",
                "delivered",
                "cancelled"
              ]
            }
          }
        },
        "Review": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer"
            },
            "user_id": {
              "type": "integer"
            },
            "resto_id": {
              "type": "integer"
            },
            "transaction_id": {
              "type": "string"
            },
            "star": {
              "type": "integer",
              "minimum": 1,
              "maximum": 5
            },
            "comment": {
              "type": "string"
            }
          }
        },
        "Error": {
          "type": "object",
          "properties": {
            "success": {
              "type": "boolean",
              "example": false
            },
            "message": {
              "type": "string"
            },
            "errors": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "Success": {
          "type": "object",
          "properties": {
            "success": {
              "type": "boolean",
              "example": true
            },
            "message": {
              "type": "string"
            },
            "data": {
              "type": "object"
            }
          }
        }
      }
    },
    "paths": {
      "/api/auth/register": {
        "post": {
          "summary": "Register a new user",
          "tags": [
            "Authentication"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "name",
                    "email",
                    "phone",
                    "password"
                  ],
                  "properties": {
                    "name": {
                      "type": "string",
                      "minLength": 2,
                      "example": "John Doe"
                    },
                    "email": {
                      "type": "string",
                      "format": "email",
                      "example": "john@example.com"
                    },
                    "phone": {
                      "type": "string",
                      "example": "081234567890"
                    },
                    "password": {
                      "type": "string",
                      "minLength": 6,
                      "example": "password123"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "User registered successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/Success"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "data": {
                            "type": "object",
                            "properties": {
                              "user": {
                                "$ref": "#/components/schemas/User"
                              },
                              "token": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              }
            },
            "400": {
              "description": "Validation failed",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            },
            "409": {
              "description": "User already exists",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            }
          }
        }
      },
      "/api/auth/login": {
        "post": {
          "summary": "Login user",
          "tags": [
            "Authentication"
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "email",
                    "password"
                  ],
                  "properties": {
                    "email": {
                      "type": "string",
                      "format": "email",
                      "example": "john@example.com"
                    },
                    "password": {
                      "type": "string",
                      "example": "password123"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Login successful",
              "content": {
                "application/json": {
                  "schema": {
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/Success"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "data": {
                            "type": "object",
                            "properties": {
                              "user": {
                                "$ref": "#/components/schemas/User"
                              },
                              "token": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              }
            },
            "400": {
              "description": "Validation failed",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            },
            "401": {
              "description": "Invalid credentials",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            }
          }
        }
      },
      "/api/auth/profile": {
        "get": {
          "summary": "Get user profile",
          "tags": [
            "Authentication"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Profile retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/Success"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "data": {
                            "$ref": "#/components/schemas/User"
                          }
                        }
                      }
                    ]
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            }
          }
        },
        "put": {
          "summary": "Update user profile",
          "tags": [
            "Authentication"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "multipart/form-data": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "minLength": 2,
                      "description": "User name (optional)",
                      "example": "John Doe Updated"
                    },
                    "email": {
                      "type": "string",
                      "format": "email",
                      "description": "User email (optional)",
                      "example": "john.updated@example.com"
                    },
                    "phone": {
                      "type": "string",
                      "description": "User phone (optional)",
                      "example": "081234567891"
                    },
                    "avatar": {
                      "type": "string",
                      "format": "binary",
                      "description": "Avatar image file (optional, max 5MB, only image files)"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Profile updated successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "allOf": [
                      {
                        "$ref": "#/components/schemas/Success"
                      },
                      {
                        "type": "object",
                        "properties": {
                          "data": {
                            "$ref": "#/components/schemas/User"
                          }
                        }
                      }
                    ]
                  }
                }
              }
            },
            "400": {
              "description": "Validation failed",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            },
            "409": {
              "description": "Email or phone number already exists",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Error"
                  }
                }
              }
            }
          }
        }
      },
      "/api/cart": {
        "get": {
          "summary": "Get user's cart items grouped by restaurant",
          "tags": [
            "Cart"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Cart retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "cart": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "restaurant": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "integer"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "logo": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "integer"
                                      },
                                      "menu": {
                                        "type": "object",
                                        "properties": {
                                          "id": {
                                            "type": "integer"
                                          },
                                          "foodName": {
                                            "type": "string"
                                          },
                                          "price": {
                                            "type": "integer"
                                          },
                                          "type": {
                                            "type": "string"
                                          },
                                          "image": {
                                            "type": "string"
                                          }
                                        }
                                      },
                                      "quantity": {
                                        "type": "integer"
                                      },
                                      "itemTotal": {
                                        "type": "integer"
                                      }
                                    }
                                  }
                                },
                                "subtotal": {
                                  "type": "integer"
                                }
                              }
                            }
                          },
                          "summary": {
                            "type": "object",
                            "properties": {
                              "totalItems": {
                                "type": "integer"
                              },
                              "totalPrice": {
                                "type": "integer"
                              },
                              "restaurantCount": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        },
        "post": {
          "summary": "Add item to cart",
          "tags": [
            "Cart"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "restaurantId",
                    "menuId"
                  ],
                  "properties": {
                    "restaurantId": {
                      "type": "integer",
                      "description": "ID of the restaurant",
                      "example": 1
                    },
                    "menuId": {
                      "type": "integer",
                      "description": "ID of the menu item",
                      "example": 5
                    },
                    "quantity": {
                      "type": "integer",
                      "minimum": 1,
                      "default": 1,
                      "description": "Quantity of the item",
                      "example": 2
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Item added to cart successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Item added to cart successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "cartItem": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "restaurant": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "logo": {
                                    "type": "string"
                                  }
                                }
                              },
                              "menu": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "foodName": {
                                    "type": "string"
                                  },
                                  "price": {
                                    "type": "integer"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "image": {
                                    "type": "string"
                                  }
                                }
                              },
                              "quantity": {
                                "type": "integer"
                              },
                              "itemTotal": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid input data"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "404": {
              "description": "Restaurant or menu item not found"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        },
        "delete": {
          "summary": "Clear entire cart",
          "tags": [
            "Cart"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Cart cleared successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Cart cleared successfully"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/cart/{id}": {
        "put": {
          "summary": "Update cart item quantity",
          "tags": [
            "Cart"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "integer"
              },
              "description": "Cart item ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "quantity"
                  ],
                  "properties": {
                    "quantity": {
                      "type": "integer",
                      "minimum": 1,
                      "description": "New quantity for the item",
                      "example": 3
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Cart item updated successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "cartItem": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "restaurant": {
                                "type": "object"
                              },
                              "menu": {
                                "type": "object"
                              },
                              "quantity": {
                                "type": "integer"
                              },
                              "itemTotal": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid input data"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "404": {
              "description": "Cart item not found"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        },
        "delete": {
          "summary": "Remove item from cart",
          "tags": [
            "Cart"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "integer"
              },
              "description": "Cart item ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Item removed from cart successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Item removed from cart successfully"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "404": {
              "description": "Cart item not found"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/order/checkout": {
        "post": {
          "summary": "Create order directly from menu items (not from cart)",
          "tags": [
            "Orders"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "restaurants",
                    "deliveryAddress"
                  ],
                  "properties": {
                    "restaurants": {
                      "type": "array",
                      "minItems": 1,
                      "description": "Array of restaurants with their items (grouped by restaurant)",
                      "items": {
                        "type": "object",
                        "required": [
                          "restaurantId",
                          "items"
                        ],
                        "properties": {
                          "restaurantId": {
                            "type": "integer",
                            "description": "ID of the restaurant",
                            "example": 108
                          },
                          "items": {
                            "type": "array",
                            "minItems": 1,
                            "description": "Menu items for this restaurant",
                            "items": {
                              "type": "object",
                              "required": [
                                "menuId",
                                "quantity"
                              ],
                              "properties": {
                                "menuId": {
                                  "type": "integer",
                                  "description": "ID of the menu item",
                                  "example": 224
                                },
                                "quantity": {
                                  "type": "integer",
                                  "minimum": 1,
                                  "description": "Quantity of the menu item",
                                  "example": 1
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "deliveryAddress": {
                      "type": "string",
                      "description": "Delivery address for the order",
                      "example": "Jl. Sudirman No. 25, Jakarta Pusat, 10220"
                    },
                    "phone": {
                      "type": "string",
                      "description": "Contact phone number for delivery",
                      "example": "0812-3456-7890"
                    },
                    "paymentMethod": {
                      "type": "string",
                      "description": "Payment method (optional, defaults to dummy payment)",
                      "example": "BNI Bank Negara Indonesia"
                    },
                    "notes": {
                      "type": "string",
                      "description": "Additional notes for the order",
                      "example": "Please ring the doorbell"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Order placed successfully (payment automatically processed)",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Order placed successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "transaction": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "transactionId": {
                                "type": "string"
                              },
                              "paymentMethod": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "done"
                                ],
                                "description": "Status is automatically set to \"done\" (payment successful)"
                              },
                              "deliveryAddress": {
                                "type": "string"
                              },
                              "phone": {
                                "type": "string"
                              },
                              "pricing": {
                                "type": "object",
                                "properties": {
                                  "subtotal": {
                                    "type": "integer"
                                  },
                                  "serviceFee": {
                                    "type": "integer"
                                  },
                                  "deliveryFee": {
                                    "type": "integer"
                                  },
                                  "totalPrice": {
                                    "type": "integer"
                                  }
                                }
                              },
                              "restaurants": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "restaurant": {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "integer"
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "logo": {
                                          "type": "string"
                                        }
                                      }
                                    },
                                    "items": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "menuId": {
                                            "type": "integer"
                                          },
                                          "menuName": {
                                            "type": "string"
                                          },
                                          "price": {
                                            "type": "integer"
                                          },
                                          "quantity": {
                                            "type": "integer"
                                          },
                                          "itemTotal": {
                                            "type": "integer"
                                          }
                                        }
                                      }
                                    },
                                    "subtotal": {
                                      "type": "integer"
                                    }
                                  }
                                }
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid input data or menu items not found"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/order/my-order": {
        "get": {
          "summary": "Get user's orders per transaction (default status is done)",
          "description": "Returns orders grouped by transaction. Each transaction is a separate order, even if it contains items from the same restaurant.",
          "tags": [
            "Orders"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "status",
              "schema": {
                "type": "string",
                "enum": [
                  "preparing",
                  "on_the_way",
                  "delivered",
                  "done",
                  "cancelled"
                ],
                "default": "done"
              },
              "description": "Filter orders by status. Default is done."
            },
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "default": 1
              },
              "description": "Page number for pagination"
            },
            {
              "in": "query",
              "name": "limit",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 10
              },
              "description": "Number of orders per page"
            }
          ],
          "responses": {
            "200": {
              "description": "Orders retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "orders": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "transactionId": {
                                  "type": "string"
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "preparing",
                                    "on_the_way",
                                    "delivered",
                                    "done",
                                    "cancelled"
                                  ]
                                },
                                "paymentMethod": {
                                  "type": "string"
                                },
                                "deliveryAddress": {
                                  "type": "string",
                                  "description": "Delivery address (if available)"
                                },
                                "phone": {
                                  "type": "string",
                                  "description": "Contact phone number (if available)"
                                },
                                "pricing": {
                                  "type": "object",
                                  "properties": {
                                    "subtotal": {
                                      "type": "integer"
                                    },
                                    "serviceFee": {
                                      "type": "integer"
                                    },
                                    "deliveryFee": {
                                      "type": "integer"
                                    },
                                    "totalPrice": {
                                      "type": "integer"
                                    }
                                  }
                                },
                                "restaurants": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "restaurant": {
                                        "type": "object",
                                        "properties": {
                                          "id": {
                                            "type": "integer"
                                          },
                                          "name": {
                                            "type": "string"
                                          },
                                          "logo": {
                                            "type": "string"
                                          }
                                        }
                                      },
                                      "items": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "menuId": {
                                              "type": "integer"
                                            },
                                            "menuName": {
                                              "type": "string"
                                            },
                                            "price": {
                                              "type": "integer"
                                            },
                                            "image": {
                                              "type": "string",
                                              "nullable": true,
                                              "description": "Menu item image URL"
                                            },
                                            "quantity": {
                                              "type": "integer"
                                            },
                                            "itemTotal": {
                                              "type": "integer"
                                            }
                                          }
                                        }
                                      },
                                      "subtotal": {
                                        "type": "integer"
                                      }
                                    }
                                  }
                                },
                                "createdAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "updatedAt": {
                                  "type": "string",
                                  "format": "date-time"
                                }
                              }
                            }
                          },
                          "pagination": {
                            "type": "object",
                            "properties": {
                              "page": {
                                "type": "integer"
                              },
                              "limit": {
                                "type": "integer"
                              },
                              "total": {
                                "type": "integer"
                              },
                              "totalPages": {
                                "type": "integer"
                              }
                            }
                          },
                          "filter": {
                            "type": "object",
                            "properties": {
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid query parameters"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/resto": {
        "get": {
          "summary": "Get restaurants with filters",
          "tags": [
            "Restaurants"
          ],
          "parameters": [
            {
              "in": "query",
              "name": "location",
              "schema": {
                "type": "string"
              },
              "description": "Location to search restaurants"
            },
            {
              "in": "query",
              "name": "range",
              "schema": {
                "type": "number"
              },
              "description": "Search range in kilometers"
            },
            {
              "in": "query",
              "name": "priceMin",
              "schema": {
                "type": "integer"
              },
              "description": "Minimum price filter"
            },
            {
              "in": "query",
              "name": "priceMax",
              "schema": {
                "type": "integer"
              },
              "description": "Maximum price filter"
            },
            {
              "in": "query",
              "name": "rating",
              "schema": {
                "type": "number",
                "minimum": 0,
                "maximum": 5
              },
              "description": "Minimum rating filter"
            },
            {
              "in": "query",
              "name": "category",
              "schema": {
                "type": "string"
              },
              "description": "Restaurant category/cuisine type filter"
            },
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "default": 1
              },
              "description": "Page number for pagination"
            },
            {
              "in": "query",
              "name": "limit",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 20
              },
              "description": "Number of restaurants per page"
            }
          ],
          "responses": {
            "200": {
              "description": "List of restaurants retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "restaurants": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "star": {
                                  "type": "number"
                                },
                                "place": {
                                  "type": "string"
                                },
                                "logo": {
                                  "type": "string"
                                },
                                "images": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "category": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "reviewCount": {
                                  "type": "integer"
                                },
                                "menuCount": {
                                  "type": "integer"
                                },
                                "priceRange": {
                                  "type": "object",
                                  "properties": {
                                    "min": {
                                      "type": "integer"
                                    },
                                    "max": {
                                      "type": "integer"
                                    }
                                  }
                                },
                                "distance": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "pagination": {
                            "type": "object",
                            "properties": {
                              "page": {
                                "type": "integer"
                              },
                              "limit": {
                                "type": "integer"
                              },
                              "total": {
                                "type": "integer"
                              },
                              "totalPages": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid query parameters"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/resto/nearby": {
        "get": {
          "summary": "Get nearby restaurants based on user location",
          "tags": [
            "Restaurants"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "range",
              "schema": {
                "type": "number",
                "default": 10
              },
              "description": "Maximum distance in kilometers (default 10km)"
            },
            {
              "in": "query",
              "name": "limit",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 20
              },
              "description": "Maximum number of restaurants to return"
            }
          ],
          "responses": {
            "200": {
              "description": "Nearby restaurants retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "restaurants": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "star": {
                                  "type": "number"
                                },
                                "place": {
                                  "type": "string"
                                },
                                "logo": {
                                  "type": "string"
                                },
                                "images": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "category": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "reviewCount": {
                                  "type": "integer"
                                },
                                "menuCount": {
                                  "type": "integer"
                                },
                                "distance": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "User location not set"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/resto/recommended": {
        "get": {
          "summary": "Get recommended restaurants for user",
          "tags": [
            "Restaurants"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "responses": {
            "200": {
              "description": "Recommended restaurants retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "recommendations": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "star": {
                                  "type": "number"
                                },
                                "place": {
                                  "type": "string"
                                },
                                "lat": {
                                  "type": "number",
                                  "description": "Restaurant latitude"
                                },
                                "long": {
                                  "type": "number",
                                  "description": "Restaurant longitude"
                                },
                                "logo": {
                                  "type": "string"
                                },
                                "images": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "category": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "reviewCount": {
                                  "type": "integer"
                                },
                                "sampleMenus": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "integer"
                                      },
                                      "foodName": {
                                        "type": "string"
                                      },
                                      "price": {
                                        "type": "integer"
                                      },
                                      "type": {
                                        "type": "string"
                                      },
                                      "image": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "isFrequentlyOrdered": {
                                  "type": "boolean"
                                },
                                "distance": {
                                  "type": "number",
                                  "description": "Distance in kilometers from user location (if available)"
                                }
                              }
                            }
                          },
                          "message": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/resto/best-seller": {
        "get": {
          "summary": "Get best seller restaurants sorted by rating (highest first)",
          "tags": [
            "Restaurants"
          ],
          "parameters": [
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "default": 1
              },
              "description": "Page number for pagination"
            },
            {
              "in": "query",
              "name": "limit",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 20
              },
              "description": "Number of restaurants per page"
            }
          ],
          "responses": {
            "200": {
              "description": "Best seller restaurants retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "restaurants": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "star": {
                                  "type": "number"
                                },
                                "place": {
                                  "type": "string"
                                },
                                "logo": {
                                  "type": "string"
                                },
                                "images": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "reviewCount": {
                                  "type": "integer"
                                },
                                "menuCount": {
                                  "type": "integer"
                                },
                                "priceRange": {
                                  "type": "object",
                                  "properties": {
                                    "min": {
                                      "type": "integer"
                                    },
                                    "max": {
                                      "type": "integer"
                                    }
                                  }
                                },
                                "distance": {
                                  "type": "number",
                                  "description": "Distance in kilometers from user location (if authenticated and location set)"
                                }
                              }
                            }
                          },
                          "pagination": {
                            "type": "object",
                            "properties": {
                              "page": {
                                "type": "integer"
                              },
                              "limit": {
                                "type": "integer"
                              },
                              "total": {
                                "type": "integer"
                              },
                              "totalPages": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid query parameters"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/resto/search": {
        "get": {
          "summary": "Search restaurants by name",
          "tags": [
            "Restaurants"
          ],
          "parameters": [
            {
              "in": "query",
              "name": "q",
              "required": true,
              "schema": {
                "type": "string"
              },
              "description": "Search query (restaurant name)"
            },
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "default": 1
              },
              "description": "Page number for pagination"
            },
            {
              "in": "query",
              "name": "limit",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 20
              },
              "description": "Number of restaurants per page"
            }
          ],
          "responses": {
            "200": {
              "description": "Restaurants found successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "restaurants": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "star": {
                                  "type": "number"
                                },
                                "place": {
                                  "type": "string"
                                },
                                "logo": {
                                  "type": "string"
                                },
                                "images": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "reviewCount": {
                                  "type": "integer"
                                },
                                "menuCount": {
                                  "type": "integer"
                                },
                                "priceRange": {
                                  "type": "object",
                                  "properties": {
                                    "min": {
                                      "type": "integer"
                                    },
                                    "max": {
                                      "type": "integer"
                                    }
                                  }
                                },
                                "distance": {
                                  "type": "number",
                                  "description": "Distance in kilometers (if user authenticated and location set)"
                                }
                              }
                            }
                          },
                          "pagination": {
                            "type": "object",
                            "properties": {
                              "page": {
                                "type": "integer"
                              },
                              "limit": {
                                "type": "integer"
                              },
                              "total": {
                                "type": "integer"
                              },
                              "totalPages": {
                                "type": "integer"
                              }
                            }
                          },
                          "searchQuery": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Validation error"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/resto/{id}": {
        "get": {
          "summary": "Get restaurant detail with menus and reviews",
          "tags": [
            "Restaurants"
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "integer"
              },
              "description": "Restaurant ID"
            },
            {
              "in": "query",
              "name": "limitMenu",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 10
              },
              "description": "Maximum number of menus to return"
            },
            {
              "in": "query",
              "name": "limitReview",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 6
              },
              "description": "Maximum number of reviews to return"
            }
          ],
          "responses": {
            "200": {
              "description": "Restaurant detail retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "star": {
                            "type": "number"
                          },
                          "averageRating": {
                            "type": "number"
                          },
                          "place": {
                            "type": "string"
                          },
                          "coordinates": {
                            "type": "object",
                            "properties": {
                              "lat": {
                                "type": "number"
                              },
                              "long": {
                                "type": "number"
                              }
                            }
                          },
                          "distance": {
                            "type": "number",
                            "description": "Distance in kilometers from user location (if authenticated and location set)"
                          },
                          "logo": {
                            "type": "string"
                          },
                          "images": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "category": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalMenus": {
                            "type": "integer"
                          },
                          "totalReviews": {
                            "type": "integer"
                          },
                          "menus": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "foodName": {
                                  "type": "string"
                                },
                                "price": {
                                  "type": "integer"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "image": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "reviews": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "star": {
                                  "type": "integer"
                                },
                                "comment": {
                                  "type": "string"
                                },
                                "createdAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "user": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "integer"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "avatar": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid restaurant ID"
            },
            "404": {
              "description": "Restaurant not found"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/review": {
        "post": {
          "summary": "Create a new review for a restaurant (per transaction)",
          "description": "Users can review a restaurant multiple times if they order again (different transaction). Each review is linked to a specific transaction.",
          "tags": [
            "Reviews"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "transactionId",
                    "restaurantId",
                    "star"
                  ],
                  "properties": {
                    "transactionId": {
                      "type": "string",
                      "description": "Transaction ID from completed order",
                      "example": "TXN17251234561"
                    },
                    "restaurantId": {
                      "type": "integer",
                      "description": "ID of the restaurant to review",
                      "example": 1
                    },
                    "star": {
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 5,
                      "description": "Rating from 1 to 5 stars",
                      "example": 5
                    },
                    "comment": {
                      "type": "string",
                      "maxLength": 500,
                      "description": "Optional review comment",
                      "example": "Great food and excellent service!"
                    },
                    "menuIds": {
                      "type": "array",
                      "description": "Optional array of menu IDs to review. If not provided, all menus from this restaurant in the transaction will be included.",
                      "items": {
                        "type": "integer"
                      },
                      "example": [
                        224,
                        225
                      ]
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "Review created successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Review created successfully"
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "review": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "star": {
                                "type": "integer"
                              },
                              "comment": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "user": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "name": {
                                    "type": "string"
                                  }
                                }
                              },
                              "restaurant": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "name": {
                                    "type": "string"
                                  }
                                }
                              },
                              "transactionId": {
                                "type": "string",
                                "description": "Transaction ID this review is linked to"
                              },
                              "menus": {
                                "type": "array",
                                "description": "Menu items that were reviewed",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "menuId": {
                                      "type": "integer"
                                    },
                                    "menuName": {
                                      "type": "string"
                                    },
                                    "price": {
                                      "type": "integer"
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "food",
                                        "drink"
                                      ]
                                    },
                                    "image": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "integer"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid input data, user can only review restaurants they ordered from, or transaction is not completed"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "404": {
              "description": "Transaction or restaurant not found"
            },
            "409": {
              "description": "User has already reviewed this transaction (can update existing review instead)"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/review/my-reviews": {
        "get": {
          "summary": "Get current user's reviews",
          "tags": [
            "Reviews"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "default": 1
              },
              "description": "Page number for pagination"
            },
            {
              "in": "query",
              "name": "limit",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 10
              },
              "description": "Number of reviews per page"
            }
          ],
          "responses": {
            "200": {
              "description": "User's reviews retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "reviews": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "star": {
                                  "type": "integer"
                                },
                                "comment": {
                                  "type": "string"
                                },
                                "createdAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "transactionId": {
                                  "type": "string",
                                  "description": "Transaction ID this review is linked to"
                                },
                                "restaurant": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "integer"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "logo": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "menus": {
                                  "type": "array",
                                  "description": "Menu items that were reviewed",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "menuId": {
                                        "type": "integer"
                                      },
                                      "menuName": {
                                        "type": "string"
                                      },
                                      "price": {
                                        "type": "integer"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "food",
                                          "drink"
                                        ]
                                      },
                                      "image": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "integer"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "pagination": {
                            "type": "object",
                            "properties": {
                              "page": {
                                "type": "integer"
                              },
                              "limit": {
                                "type": "integer"
                              },
                              "total": {
                                "type": "integer"
                              },
                              "totalPages": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/review/restaurant/{restaurantId}": {
        "get": {
          "summary": "Get reviews for a specific restaurant",
          "description": "Get all reviews from other users for a restaurant. Includes user information and menu items reviewed.",
          "tags": [
            "Reviews"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "restaurantId",
              "required": true,
              "schema": {
                "type": "integer"
              },
              "description": "Restaurant ID"
            },
            {
              "in": "query",
              "name": "page",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "default": 1
              },
              "description": "Page number for pagination"
            },
            {
              "in": "query",
              "name": "limit",
              "schema": {
                "type": "integer",
                "minimum": 1,
                "maximum": 50,
                "default": 10
              },
              "description": "Number of reviews per page"
            }
          ],
          "responses": {
            "200": {
              "description": "Restaurant reviews retrieved successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "reviews": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer"
                                },
                                "star": {
                                  "type": "integer"
                                },
                                "comment": {
                                  "type": "string"
                                },
                                "transactionId": {
                                  "type": "string"
                                },
                                "createdAt": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "user": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "integer"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "avatar": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "menus": {
                                  "type": "array",
                                  "description": "Menu items that were reviewed",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "menuId": {
                                        "type": "integer"
                                      },
                                      "menuName": {
                                        "type": "string"
                                      },
                                      "price": {
                                        "type": "integer"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "food",
                                          "drink"
                                        ]
                                      },
                                      "image": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "integer"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "pagination": {
                            "type": "object",
                            "properties": {
                              "page": {
                                "type": "integer"
                              },
                              "limit": {
                                "type": "integer"
                              },
                              "total": {
                                "type": "integer"
                              },
                              "totalPages": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid restaurant ID"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "404": {
              "description": "Restaurant not found"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      },
      "/api/review/{id}": {
        "put": {
          "summary": "Update a review (user can only update their own review)",
          "tags": [
            "Reviews"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "integer"
              },
              "description": "Review ID"
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "star": {
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 5,
                      "description": "Updated rating from 1 to 5 stars",
                      "example": 4
                    },
                    "comment": {
                      "type": "string",
                      "maxLength": 500,
                      "description": "Updated review comment",
                      "example": "Updated review comment"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "Review updated successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "review": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "star": {
                                "type": "integer"
                              },
                              "comment": {
                                "type": "string"
                              },
                              "updatedAt": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "restaurant": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "name": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "Invalid input data"
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "404": {
              "description": "Review not found or does not belong to user"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        },
        "delete": {
          "summary": "Delete a review (user can only delete their own review)",
          "tags": [
            "Reviews"
          ],
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "in": "path",
              "name": "id",
              "required": true,
              "schema": {
                "type": "integer"
              },
              "description": "Review ID"
            }
          ],
          "responses": {
            "200": {
              "description": "Review deleted successfully",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Review deleted successfully"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "Unauthorized - Invalid or missing token"
            },
            "404": {
              "description": "Review not found or does not belong to user"
            },
            "500": {
              "description": "Internal server error"
            }
          }
        }
      }
    },
    "tags": []
  },
  "customOptions": {}
}